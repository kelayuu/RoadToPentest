# <div align="center">SMB & Samba</div>

------------------------------------------------------------------

### What is SMB ? :

SMB stand for Service Message Block is a shared ressources protocol initialy build for Windows but has a Unix version called Samba.
Default Ports are 139 & 445
It is used to communicate between a client and a server. It can be used to share the files, printers and some other network resources. It was created by IBM in the 1980s.

### Pentest a SMB protocole : 

You can use this ressource to pentest SMB, check also the ressources bellow for gather informations and exploit the vulnerabilties

- Full course on [hacktricks](https://book.hacktricks.xyz/pentesting/pentesting-smb) website
- See [Impacket](https://www.hackingarticles.in/impacket-guide-smb-msrpc/) also for for exploits


### Gather informations : 

 1 - Using [Enum4linux](https://github.com/CiscoCXSecurity/enum4linux)
```sql
enum4linux -U -S 10.10.10.161 #Display usernames
```
Basicly : ```enum4linux <IP>```

2 - Using [RPCclient](https://www.samba.org/samba/docs/current/man-html/rpcclient.1.html)
```bash
┌──(kali㉿kali)-[~]
└─$ rpcclient  -U "" -N <IP> (optionnal)-p 445
rpcclient $> enumdomusers #example for enumarate users
```

3 - Using nmap (worst way) using ```-script smb-enum*``` 
